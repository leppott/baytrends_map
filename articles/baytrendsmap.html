<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>baytrendsmap guide • baytrendsmap</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="baytrendsmap guide">
<meta property="og:description" content="baytrendsmap">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">baytrendsmap</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.2.1.9031</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/baytrendsmap.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/tetratech/baytrendsmap/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="baytrendsmap_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>baytrendsmap guide</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/tetratech/baytrendsmap/blob/HEAD/vignettes/baytrendsmap.Rmd" class="external-link"><code>vignettes/baytrendsmap.Rmd</code></a></small>
      <div class="hidden name"><code>baytrendsmap.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="package-purpose">Package Purpose<a class="anchor" aria-label="anchor" href="#package-purpose"></a>
</h2>
<p><code>baytrendsmap</code> is intended for quick and consistent mapping of <code>baytrends</code> output.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Installation is from GitHub with the code below.</p>
<p>Users of R versions &gt;= 3.6.0 need the 2nd line of code.</p>
<p>The code below will force the installation of any vignettes. The default for installing from GitHub is to install without vignettes.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span>  <span class="co">#install if needed</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span><span class="st">"TAR"</span> <span class="op">=</span> <span class="st">"internal"</span><span class="op">)</span> <span class="co"># needed for use with R v3.6.0</span></span>
<span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"leppott/baytrendsmap"</span>, force<span class="op">=</span><span class="cn">TRUE</span>, build_vignettes<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tetratech/baytrendsmap/" class="external-link">baytrendsmap</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/runShiny.html">runShiny</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="import-data">Import Data<a class="anchor" aria-label="anchor" href="#import-data"></a>
</h3>
<p>It is assumed the user has an output file from the <code>baytrends</code> package.</p>
<p>Click the “browse” button to locate and then upload a file to the Shiny app.</p>
<p>The progress bar will say “complete” when the file is done uploading.</p>
</div>
<div class="section level3">
<h3 id="filter-data">Filter Data<a class="anchor" aria-label="anchor" href="#filter-data"></a>
</h3>
<p>There are nine filters available to down select data. The last five are the critical ones.</p>
<ul>
<li><p>Full Paramter Name</p></li>
<li><p>GAM Formula Name</p></li>
<li><p>Sample Layer</p></li>
<li><p>Period Name</p></li>
<li><p>Season Name</p></li>
</ul>
<p>The blue borders can be clicked to expand or collapse each filter.</p>
<p>The select boxes are auto-filled with the values from the uploaded file. There are pull downs and selects in gray can be highlighted and deleted if necessary.</p>
<p>Click “Apply Filters” to apply the filters to your data. You <strong>must</strong> expand each of the last 5 filters to make selections.</p>
<p>If you make a mistake you can use the “Reset Filterer Selections” button at the bottom.</p>
<p>Under the “Filter Data Summary” there is a line item with the number of unique records per sample. If this is not <strong>zero</strong> then there are multiple entries in the data for a single location but only one will be mapped. This leads to erroneous maps.</p>
</div>
<div class="section level3">
<h3 id="maps">Maps<a class="anchor" aria-label="anchor" href="#maps"></a>
</h3>
<p>Both “range” and “trends” maps are able to be produced.</p>
<p>The blue selection boxes are similar to the blue filter selection boxes.</p>
<p>When making changes to the maps with the “Update Map” button the process takes 2 to 5 seconds while the map is saved to a file.</p>
<p>The “Save Map” button will pop up a download box in your browser.</p>
<div class="section level4">
<h4 id="river-labels">River Labels<a class="anchor" aria-label="anchor" href="#river-labels"></a>
</h4>
<p>Several major rivers are labeled with RiverNames = TRUE.</p>
<p>The names can be moved to new locations only be editing the global.R file in the R package. These values are presented in the table below.</p>
<table class="table">
<thead><tr class="header">
<th align="left">River Name Label</th>
<th align="center">Longitude</th>
<th align="center">Latitude</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Susquehanna</td>
<td align="center">-76.172</td>
<td align="center">39.659</td>
</tr>
<tr class="even">
<td align="left">Patuxent</td>
<td align="center">-76.700</td>
<td align="center">38.945</td>
</tr>
<tr class="odd">
<td align="left">Choptank</td>
<td align="center">-75.942</td>
<td align="center">38.750</td>
</tr>
<tr class="even">
<td align="left">Potomac</td>
<td align="center">-77.250</td>
<td align="center">38.500</td>
</tr>
<tr class="odd">
<td align="left">Rappahannock</td>
<td align="center">-76.950</td>
<td align="center">37.993</td>
</tr>
<tr class="even">
<td align="left">York</td>
<td align="center">-76.731</td>
<td align="center">37.551</td>
</tr>
<tr class="odd">
<td align="left">James</td>
<td align="center">-77.380</td>
<td align="center">37.500</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="zoom-feature">Zoom Feature<a class="anchor" aria-label="anchor" href="#zoom-feature"></a>
</h4>
<p>The “Zoom Region” selection allows for the map focus to change to limited number of rivers.</p>
<p>The map view is focused on the selected river and the rest of the map is not viewable. This includes the title and legend.</p>
<p>Changing the “Zoom Region” to “none” resets the view to the full map.</p>
<p>The Zoom levels are hard coded into the global.R file for the Shiny app and will need to edited there to change the sizing of the zoom regions. These values are presented in the table below.</p>
<table class="table">
<thead><tr class="header">
<th align="left">River Name Zoom</th>
<th align="center">Min X</th>
<th align="center">Min Y</th>
<th align="center">Max X</th>
<th align="center">May Y</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Susquehanna</td>
<td align="center">-76.1467</td>
<td align="center">39.4016</td>
<td align="center">-75.9790</td>
<td align="center">39.6090</td>
</tr>
<tr class="even">
<td align="left">Patuxent</td>
<td align="center">-76.8621</td>
<td align="center">38.2459</td>
<td align="center">-76.4035</td>
<td align="center">38.8751</td>
</tr>
<tr class="odd">
<td align="left">Choptank</td>
<td align="center">-76.3636</td>
<td align="center">38.5184</td>
<td align="center">-75.7926</td>
<td align="center">39.0376</td>
</tr>
<tr class="even">
<td align="left">Potomac</td>
<td align="center">-77.7047</td>
<td align="center">37.6438</td>
<td align="center">-76.2050</td>
<td align="center">39.0159</td>
</tr>
<tr class="odd">
<td align="left">Rappahannock</td>
<td align="center">-77.4901</td>
<td align="center">37.4703</td>
<td align="center">-76.2413</td>
<td align="center">38.4143</td>
</tr>
<tr class="even">
<td align="left">York</td>
<td align="center">-76.9052</td>
<td align="center">37.1470</td>
<td align="center">-76.3784</td>
<td align="center">37.5903</td>
</tr>
<tr class="odd">
<td align="left">James</td>
<td align="center">-77.5250</td>
<td align="center">36.7142</td>
<td align="center">-76.2311</td>
<td align="center">37.7369</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Erik W. Leppo, Jon Harcum.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.5.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
